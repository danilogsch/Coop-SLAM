<sdf version='1.9'>
  <model name='pioneer3dx_migration_sensor_config_1'>
  
    <pose>0 0 0 0 0 0</pose>
  
    <link name='base_footprint'>
      <inertial>
        <pose>-0.04998062738774569 0 0.0006730273410235008 0 0 0</pose>
        <mass>3.5101100000000001</mass>
        <inertia>
          <ixx>3.0005515631402102</ixx>
          <ixy>0</ixy>
          <ixz>-1.5292334140810441e-05</ixz>
          <iyy>3.0005547809228719</iyy>
          <iyz>0</iyz>
          <izz>3.0000042177826618</izz>
        </inertia>
      </inertial>
      <sensor name='pioneer3dx_front_laser_sensor' type='gpu_lidar'>
        <pose>-0.045 0 0.305 0 0 0</pose>
        <ignition_frame_id>pioneer3dx_migration_sensor_config_1/front_laser_link</ignition_frame_id> 
        <topic>/pioneer3dx_migration_sensor_config_1/front_laser</topic>
        <update_rate>20</update_rate>
        <lidar>
            <scan>
                <horizontal>
                    <samples>541</samples>
                    <resolution>1</resolution>
                    <min_angle>-3.1415926535897932</min_angle>
                    <max_angle>3.1415926535897932</max_angle>
                </horizontal>
            </scan>
            <range>
                <min>0.1</min>
                <max>15.0</max>
                <resolution>0.03</resolution>
            </range>
            <!--noise>
                <type>gaussian</type>
                <mean>0.0</mean>
                <stddev>0.03</stddev>
            </noise-->
        </lidar>
        <always_on>1</always_on>
        <visualize>0</visualize>
      </sensor>
      <collision name='base_footprint_collision'>
        <pose>-0.045 0 0.145 0 0 0</pose>
        <geometry>
          <box>
            <size>0.35 0.25 0.14</size>
          </box>
        </geometry>
      </collision>
      <collision name='base_footprint_fixed_joint_lump__front_sonar_collision_1'>
        <pose>0.109 0 0.209 0 0 0</pose>
        <geometry>
          <box>
            <size>0.01 0.01 0.01</size>
          </box>
        </geometry>
      </collision>
      <collision name='base_footprint_fixed_joint_lump__top_plate_collision_2'>
        <pose>-0.045 0 0.234 0 0 0</pose>
        <geometry>
          <box>
            <size>0.45 0.38 0.01</size>
          </box>
        </geometry>
      </collision>
      <collision name='base_footprint_fixed_joint_lump__lms100_collision_3'>
        <pose>0.16 0 0.15 0 0 0</pose>
        <geometry>
          <box>
            <size>0.1 0.1 0.1</size>
          </box>
        </geometry>
      </collision>
      <visual name="kinect_visual">
        <pose>0 0 0.385 0 0 0</pose>
        <geometry>
          <mesh>
            <uri>model://pioneer3dx_migration_sensor_config_1/meshes/kinect.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <visual name="box_visual">
        <pose>-0.03 0 0.285 0 0 0</pose>
        <geometry>
          <box>
            <size>0.1 0.1 0.1</size>
          </box>
        </geometry>
        <material>
            <ambient>0.1 0.1 1.0 1</ambient>
            <diffuse>0.1 0.1 1.0 1</diffuse>
            <specular>0.0 0.0 1.0 1</specular>
          </material>
      </visual>
      <visual name='base_footprint_fixed_joint_lump__base_visual_visual'>
        <pose>-0.045 0 0.148 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://pioneer3dx_migration_sensor_config_1/meshes/chassis.stl</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>1 0 0 1</diffuse>
          <ambient>1 0 0 1</ambient>
        </material>
      </visual>
      <visual name='base_footprint_fixed_joint_lump__front_sonar_vis_visual_1'>
        <pose>0.109 0 0.209 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://pioneer3dx_migration_sensor_config_1/meshes/front_sonar.stl</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.89375 0.72875 0.2625 1</diffuse>
          <ambient>0.89375 0.72875 0.2625 1</ambient>
        </material>
      </visual>
      <visual name='base_footprint_fixed_joint_lump__base_visual_visual_2'>
        <pose>-0.045 0 0.234 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://pioneer3dx_migration_sensor_config_1/meshes/top.stl</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.0475 0.0475 0.0475 1</diffuse>
          <ambient>0.0475 0.0475 0.0475 1</ambient>
        </material>
      </visual>
      <visual name='base_footprint_fixed_joint_lump__lms100_visual_3'>
        <pose>0.16 0 0.15 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://pioneer3dx_migration_sensor_config_1/meshes/lms100.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='base_left_wheel_joint' type='revolute'>
      <pose relative_to='base_footprint'>0 0.158 0.091 0 0 0</pose>
      <parent>base_footprint</parent>
      <child>p3dx_left_wheel</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <effort>100</effort>
          <velocity>100</velocity>
          <lower>-10000000000000000</lower>
          <upper>10000000000000000</upper>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name='p3dx_left_wheel'>
      <pose relative_to='base_left_wheel_joint'>0 0 0 0 0 0</pose>
      <inertial>
        <!--pose>0 0 0 0 0 0</pose-->
        <mass>0.51000000000000001</mass>
        <inertia>
          <ixx>0.024823531193999999</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.030436320855999999</iyy>
          <iyz>0</iyz>
          <izz>0.023527955885999999</izz>
        </inertia>
      </inertial>
      <collision name='p3dx_left_wheel_collision'>
        <pose>0 0 0 -1.570796326794896 0 0</pose>
        <geometry>
          <cylinder>
            <length>0.01</length>
            <radius>0.089999999999999997</radius>
          </cylinder>
        </geometry>
      </collision>
      <collision name='p3dx_left_wheel_fixed_joint_lump__p3dx_left_hubcap_collision_1'>
        <!--pose>0 0 0 0 0 0</pose-->
        <geometry>
          <box>
            <size>0.01 0.01 0.01</size>
          </box>
        </geometry>
      </collision>
      <visual name='p3dx_left_wheel_fixed_joint_lump__base_visual_visual'>
        <!--pose>0 0 0 0 0 0</pose-->
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://pioneer3dx_migration_sensor_config_1/meshes/left_wheel.stl</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.14625 0.14625 0.14625 1</diffuse>
          <ambient>0.14625 0.14625 0.14625 1</ambient>
        </material>
      </visual>
      <visual name='p3dx_left_wheel_fixed_joint_lump__base_visual_visual_1'>
        <!--pose>0 0 0 0 0 0</pose-->
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://pioneer3dx_migration_sensor_config_1/meshes/left_hubcap.stl</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>1 1 0.18875 1</diffuse>
          <ambient>1 1 0.18875 1</ambient>
        </material>
      </visual>
    </link>
    <joint name='base_right_wheel_joint' type='revolute'>
      <pose relative_to='base_footprint'>0 -0.158 0.091 0 0 0</pose>
      <parent>base_footprint</parent>
      <child>p3dx_right_wheel</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <effort>100</effort>
          <velocity>100</velocity>
          <lower>-10000000000000000</lower>
          <upper>10000000000000000</upper>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name='p3dx_right_wheel'>
      <pose relative_to='base_right_wheel_joint'>0 0 0 0 0 0</pose>
      <inertial>
        <!--pose>0 0 0 0 0 0</pose-->
        <mass>0.51000000000000001</mass>
        <inertia>
          <ixx>0.024823531193999999</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.030436320855999999</iyy>
          <iyz>0</iyz>
          <izz>0.023527955885999999</izz>
        </inertia>
      </inertial>
      <collision name='p3dx_right_wheel_collision'>
        <pose>0 0 0 -1.570796326794896 0 0</pose>
        <geometry>
          <cylinder>
            <length>0.01</length>
            <radius>0.089999999999999997</radius>
          </cylinder>
        </geometry>
      </collision>
      <collision name='p3dx_right_wheel_fixed_joint_lump__p3dx_right_hubcap_collision_1'>
        <!--pose>0 0 0 0 0 0</pose-->
        <geometry>
          <box>
            <size>0.01 0.01 0.01</size>
          </box>
        </geometry>
      </collision>
      <visual name='p3dx_right_wheel_fixed_joint_lump__base_visual_visual'>
        <!--pose>0 0 0 0 0 0</pose-->
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://pioneer3dx_migration_sensor_config_1/meshes/right_wheel.stl</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.14625 0.14625 0.14625 1</diffuse>
          <ambient>0.14625 0.14625 0.14625 1</ambient>
        </material>
      </visual>
      <visual name='p3dx_right_wheel_fixed_joint_lump__base_visual_visual_1'>
        <!--pose>0 0 0 0 0 0</pose-->
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://pioneer3dx_migration_sensor_config_1/meshes/right_hubcap.stl</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>1 1 0.18875 1</diffuse>
          <ambient>1 1 0.18875 1</ambient>
        </material>
      </visual>
    </link>
    <joint name='base_swivel_joint' type='revolute'>
      <pose relative_to='base_footprint'>-0.185 0 0.055 0 0 0</pose>
      <parent>base_footprint</parent>
      <child>swivel</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <effort>100</effort>
          <velocity>100</velocity>
          <lower>-10000000000000000</lower>
          <upper>10000000000000000</upper>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name='swivel'>
      <pose relative_to='base_swivel_joint'>0 0 0 0 0 0</pose>
      <inertial>
        <!--pose>0 0 0 0 0 0</pose-->
        <mass>0.10000000000000001</mass>
        <inertia>
          <ixx>0.01</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.01</iyy>
          <iyz>0</iyz>
          <izz>0.01</izz>
        </inertia>
      </inertial>
      <collision name='swivel_collision'>
        <!--pose>0 0 0 0 0 0</pose-->
        <geometry>
          <box>
            <size>0.01 0.01 0.01</size>
          </box>
        </geometry>
      </collision>
      <visual name='swivel_fixed_joint_lump__base_visual_visual'>
        <!--pose>0 0 0 0 0 0</pose-->
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://pioneer3dx_migration_sensor_config_1/meshes/swivel.stl</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.625 0.625 0.625 1</diffuse>
          <ambient>0.625 0.625 0.625 1</ambient>
        </material>
      </visual>
    </link>
    <joint name='swivel_hubcap_joint' type='revolute'>
      <pose relative_to='swivel'>-0.026 0 -0.016 0 0 0</pose>
      <parent>swivel</parent>
      <child>center_wheel</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <effort>100</effort>
          <velocity>100</velocity>
          <lower>-10000000000000000</lower>
          <upper>10000000000000000</upper>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name='center_wheel'>
      <pose relative_to='swivel_hubcap_joint'>0 0 0 0 0 0</pose>
      <inertial>
        <pose>-0.0003181818181818183 0 -9.090909090909093e-05 0 0 0</pose>
        <mass>0.11</mass>
        <inertia>
          <ixx>0.024823540284909091</ixx>
          <ixy>-0.001423467356</ixy>
          <ixz>0.0010054278418181819</ixz>
          <iyy>0.030436441310545449</iyy>
          <iyz>-8.5469340000000008e-06</iyz>
          <izz>0.02352806724963636</izz>
        </inertia>
      </inertial>
      <collision name='center_wheel_collision'>
        <pose>0 0 0 -1.570796326794896 0 0</pose>
        <geometry>
          <cylinder>
            <length>0.01</length>
            <radius>0.037499999999999999</radius>
          </cylinder>
        </geometry>
      </collision>
      <collision name='center_wheel_fixed_joint_lump__center_hubcap_collision_1'>
        <pose>-0.0035 0 -0.001 0 0 0</pose>
        <geometry>
          <box>
            <size>0.01 0.01 0.01</size>
          </box>
        </geometry>
      </collision>
      <visual name='center_wheel_fixed_joint_lump__base_visual_visual'>
        <!--pose>0 0 0 0 0 0</pose-->
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://pioneer3dx_migration_sensor_config_1/meshes/center_wheel.stl</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.14625 0.14625 0.14625 1</diffuse>
          <ambient>0.14625 0.14625 0.14625 1</ambient>
        </material>
      </visual>
      <visual name='center_wheel_fixed_joint_lump__base_visual_visual_1'>
        <pose>-0.0035 0 -0.001 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://pioneer3dx_migration_sensor_config_1/meshes/center_hubcap.stl</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.625 0.625 0.625 1</diffuse>
          <ambient>0.625 0.625 0.625 1</ambient>
        </material>
      </visual>
    </link>
    <plugin
        filename="ignition-gazebo-diff-drive-system"
        name="ignition::gazebo::systems::DiffDrive">
        <left_joint>base_left_wheel_joint</left_joint>
        <right_joint>base_right_wheel_joint</right_joint>
        <wheel_separation>0.316</wheel_separation>
        <wheel_radius>0.09</wheel_radius>
        <odom_publish_frequency>20</odom_publish_frequency>
        <max_linear_acceleration>2.5</max_linear_acceleration>
        <min_linear_acceleration>-2.5</min_linear_acceleration>
        <max_angular_acceleration>3.2</max_angular_acceleration>
        <min_angular_acceleration>-3.2</min_angular_acceleration>
        <max_linear_velocity>0.5</max_linear_velocity>
        <min_linear_velocity>-0.5</min_linear_velocity>
        <max_angular_velocity>1</max_angular_velocity>
        <min_angular_velocity>-1</min_angular_velocity>
        <topic>pioneer3dx_migration_sensor_config_1/cmd_vel</topic>
      	<odom_topic>pioneer3dx_migration_sensor_config_1/odom</odom_topic>
      	<tf_topic>pioneer3dx_migration_sensor_config_1/tf</tf_topic>
      	<frame_id>pioneer3dx_migration_sensor_config_1/odom</frame_id>
        <child_frame_id>pioneer3dx_migration_sensor_config_1/base_footprint</child_frame_id>
      </plugin>
    
  </model>
</sdf>
